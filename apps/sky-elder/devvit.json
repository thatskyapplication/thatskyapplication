{
	"$schema": "https://developers.reddit.com/schema/config-file.v1.json",
	"name": "sky-elder",
	"server": {
		"dir": "distribution/server",
		"entry": "index.cjs"
	},
	"menu": {
		"items": [
			{
				"label": "Create new friend codes megathread",
				"description": "Forcibly creates a new friend codes megathread.",
				"location": "subreddit",
				"forUserType": "moderator",
				"endpoint": "/internal/menu/megathread-friend-codes"
			}
		]
	},
	"scheduler": {
		"tasks": {
			"megathread-friend-codes": {
				"endpoint": "/internal/scheduler/megathread-friend-codes",
				"cron": "0 8 * * *"
			}
		}
	},
	"permissions": {
		"reddit": true,
		"redis": true
	},
	"triggers": {
		"onCommentDelete": "/internal/triggers/on-comment-delete",
		"onCommentSubmit": "/internal/triggers/on-comment-submit",
		"onCommentUpdate": "/internal/triggers/on-comment-update",
		"onPostDelete": "/internal/triggers/on-post-delete",
		"onPostFlairUpdate": "/internal/triggers/on-post-flair-update",
		"onPostSubmit": "/internal/triggers/on-post-submit",
		"onPostUpdate": "/internal/triggers/on-post-update"
	},
	"settings": {
		"subreddit": {
			"DISCORD_WEBHOOK_COMMENTS_URL": {
				"type": "string",
				"label": "Discord webhook comments URL",
				"helpText": "Comment triggers execute this webhook.",
				"validationEndpoint": "/internal/settings/discord-webhook-comments-url"
			},
			"DISCORD_WEBHOOK_POST_LINK_FLAIRS_URL": {
				"type": "string",
				"label": "Discord webhook post flairs URL",
				"helpText": "Displays post flair statistics.",
				"validationEndpoint": "/internal/settings/discord-webhook-post-link-flairs-url"
			},
			"DISCORD_WEBHOOK_USER_LINK_FLAIRS_URL": {
				"type": "string",
				"label": "Discord webhook user flairs URL",
				"helpText": "Detection of bad user flairs execute this webhook.",
				"validationEndpoint": "/internal/settings/discord-webhook-user-link-flairs-url"
			},
			"MEGATHREAD_FRIEND_CODES_TITLE": {
				"type": "string",
				"label": "Friend codes megathread title",
				"helpText": "The title to use for the friend codes megathread.",
				"validationEndpoint": "/internal/settings/megathread-friend-codes-title"
			},
			"MEGATHREAD_FRIEND_CODES_TEXT": {
				"type": "paragraph",
				"label": "Friend codes megathread body",
				"helpText": "The body to use for the friend codes megathread.",
				"validationEndpoint": "/internal/settings/megathread-friend-codes-text"
			},
			"MEGATHREAD_FRIEND_CODES_POST_FLAIR_ID": {
				"type": "string",
				"label": "Friend codes megathread post flair id",
				"helpText": "The post flair id to use for the friend codes megathread.",
				"validationEndpoint": "/internal/settings/megathread-friend-codes-post-flair-id"
			}
		}
	}
}
