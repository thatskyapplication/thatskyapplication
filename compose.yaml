services:
  database-backup:
    image: database-backup:latest
    profiles:
      - database-backup
    restart: unless-stopped
    environment:
      AWS_ACCESS_KEY_ID: ${S3_ACCESS_KEY_ID}
      AWS_SECRET_ACCESS_KEY: ${S3_SECRET_ACCESS_KEY}
      AWS_S3_ENDPOINT: ${S3_ENDPOINT}
      AWS_DEFAULT_REGION: ${S3_DEFAULT_REGION}
      POSTGRES_USER: ${POSTGRES_USER}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      POSTGRES_DB: ${POSTGRES_DB_CAELUS}
      POSTGRES_HOST: ${POSTGRES_HOST}
      S3_BUCKET: ${S3_BUCKET}
  thatskyapplication-notifications:
    image: thatskyapplication-notifications:latest
    profiles:
      - thatskyapplication-notifications
    restart: unless-stopped
    environment:
      DISCORD_TOKEN: ${DISCORD_TOKEN}
      DATABASE_URL: ${DATABASE_URL_CAELUS}
      BETTER_STACK_TOKEN: ${BETTER_STACK_TOKEN_NOTIFICATIONS}
      BETTER_STACK_ENDPOINT_URL: ${BETTER_STACK_ENDPOINT_URL_NOTIFICATIONS}
  thatskyapplication-servare:
    image: thatskyapplication-servare:latest
    profiles:
      - thatskyapplication-servare
    restart: unless-stopped
    environment:
      DISCORD_TOKEN: ${DISCORD_TOKEN_SERVARE}
      APPLICATION_ID: ${APPLICATION_ID}
      DATABASE_URL: ${DATABASE_URL_SERVARE}
      BETTER_STACK_TOKEN: ${BETTER_STACK_TOKEN_SERVARE}
      BETTER_STACK_ENDPOINT_URL: ${BETTER_STACK_ENDPOINT_URL_SERVARE}
  thatskyapplication-socials:
    image: thatskyapplication-socials:latest
    profiles:
      - thatskyapplication-socials
    restart: unless-stopped
    environment:
      DATABASE_URL: ${DATABASE_URL_CAELUS}
      BETTER_STACK_TOKEN: ${BETTER_STACK_TOKEN_SOCIALS}
      BETTER_STACK_ENDPOINT_URL: ${BETTER_STACK_ENDPOINT_URL_SOCIALS}
      REDDIT_APPLICATION_ID: ${REDDIT_APPLICATION_ID}
      REDDIT_APPLICATION_SECRET: ${REDDIT_APPLICATION_SECRET}
