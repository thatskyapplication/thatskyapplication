services:
  database-backup:
    image: database-backup:latest
    profiles:
      - database-backup
    restart: unless-stopped
    environment:
      AWS_ACCESS_KEY_ID: ${S3_ACCESS_KEY_ID}
      AWS_SECRET_ACCESS_KEY: ${S3_SECRET_ACCESS_KEY}
      AWS_S3_ENDPOINT: ${S3_ENDPOINT}
      AWS_DEFAULT_REGION: ${S3_DEFAULT_REGION}
      POSTGRES_USER: ${POSTGRES_USER}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_HOST: ${POSTGRES_HOST}
      S3_BUCKET: ${S3_BUCKET}
  thatskyapplication-notifications:
    image: thatskyapplication-notifications:latest
    profiles:
      - thatskyapplication-notifications
    restart: unless-stopped
    environment:
      NODE_ENV: production
      DISCORD_TOKEN: ${DISCORD_TOKEN}
      DATABASE_URL: ${DATABASE_URL}
      BETTER_STACK_TOKEN: ${BETTER_STACK_TOKEN}
      BETTER_STACK_ENDPOINT_URL: ${BETTER_STACK_ENDPOINT_URL}
